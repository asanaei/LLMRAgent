% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/10_agent.R
\name{agent_reply}
\alias{agent_reply}
\title{Ask the agent to reply}
\usage{
agent_reply(agent, user_text, json = TRUE)
}
\arguments{
\item{agent}{Agent created by \code{new_agent()}.}

\item{user_text}{User message.}

\item{json}{Whether to use JSON mode (default TRUE if model supports it).}
}
\value{
character assistant reply.
}
\description{
Uses LLMR directly with the agent's model config.
Automatically tracks token usage in the agent.
}
\examples{
if (requireNamespace("LLMR", quietly = TRUE) && Sys.getenv("OPENAI_API_KEY") != "") {
  config <- LLMR::llm_config(provider = "openai", model = "gpt-4",
                             api_key = Sys.getenv("OPENAI_API_KEY"))
  ag <- new_agent(system_prompt = "Be brief.", model_config = config)
  # reply <- agent_reply(ag, "hello")
  # usage <- agent_usage(ag)  # Get cumulative usage
}
}
\seealso{
\code{\link[=new_agent]{new_agent()}}, \code{\link[=format_messages_for_api]{format_messages_for_api()}}, \code{\link[=agent_usage]{agent_usage()}}
}
